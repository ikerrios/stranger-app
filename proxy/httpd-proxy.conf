<VirtualHost *:80>
    ServerName localhost

    ProxyRequests Off
    ProxyPreserveHost Off
    ProxyTimeout 300
    
    # NO reenviar el header Host original
    RequestHeader unset X-Forwarded-Host
    RequestHeader set X-Forwarded-Proto "https"
    
    # Logging
    LogLevel warn
    ErrorLog /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined

    # --- API â†’ Spring Boot Backend ---
    <Location /api>
        ProxyPass        "https://stranger-app-po8w.onrender.com/api"
        ProxyPassReverse "https://stranger-app-po8w.onrender.com/api"
    </Location>

    # --- Frontend PHP ---
    <Location />
        ProxyPass        "https://stranger-app-1.onrender.com/"
        ProxyPassReverse "https://stranger-app-1.onrender.com/"
    </Location>

</VirtualHost>